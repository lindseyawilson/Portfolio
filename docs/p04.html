<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Portfolio 4</title>

<script src="site_libs/header-attrs-2.19/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Portfolio</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="about.html">About</a>
</li>
<li>
  <a href="p01.html">Portfolio 1</a>
</li>
<li>
  <a href="p02.html">Portfolio 2</a>
</li>
<li>
  <a href="p03.html">Portfolio 3</a>
</li>
<li>
  <a href="p04.html">Portfolio 4</a>
</li>
<li>
  <a href="p05.html">Portfolio 5</a>
</li>
<li>
  <a href="p06.html">Portfolio 6</a>
</li>
<li>
  <a href="p07.html">Portfolio 7</a>
</li>
<li>
  <a href="p08.html">Portfolio 8</a>
</li>
<li>
  <a href="p09.html">Portfolio 9</a>
</li>
<li>
  <a href="p10.html">Portfolio 10</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Portfolio 4</h1>

</div>


<p>The goal of this portfolio is to generate some data for my 312
students’ final paper project.</p>
<p>Essentially, the students were given a scenario in which they are
researchers interested in the effect of physical resource depletion on
perceptions of distance. The idea is that objects will feel further away
if people’s resources are depleted, and they’ll feel closer if their
resources are replenished. We’re interested in manipulating physical
resources by having participants wear a heavy backpack and then giving
them a beverage (in this case, a soda) that varies in two respects:
whether it contains sugar or artificial sweetener, and whether or not in
contains caffeine. After wearing their backpack and drinking their
drink, participants will be taken into a hallway and shown an object
that is 50 ft. away. The dependent variable is their judgement of how
far away that object is.</p>
<p>Therefore, what I ultimately want to generate is a dataset with four
columns: 1.) participant ID, 2.) sugar vs. artificial sweetener, 3.)
caffeine vs. caffeine free 4.) distance judgement.</p>
<p>Let’s load what we need:</p>
<pre class="r"><code>library(tidyverse)</code></pre>
<pre><code>## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ──
## ✔ ggplot2 3.4.0      ✔ purrr   1.0.1 
## ✔ tibble  3.1.8      ✔ dplyr   1.0.10
## ✔ tidyr   1.3.0      ✔ stringr 1.5.0 
## ✔ readr   2.1.3      ✔ forcats 0.5.2 
## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
## ✖ dplyr::filter() masks stats::filter()
## ✖ dplyr::lag()    masks stats::lag()</code></pre>
<pre class="r"><code>library(ggpubr)
library(rstatix)</code></pre>
<pre><code>## 
## Attaching package: &#39;rstatix&#39;
## 
## The following object is masked from &#39;package:stats&#39;:
## 
##     filter</code></pre>
<pre class="r"><code>library(haven)</code></pre>
<p>Next I need to decide how I want the data to come out. I want there
to be a main effect of sugar, no main effect of caffeine, and an
interaction such that the effect of sugar is stronger with caffeine than
without. That means picking cell means that give me that pattern. I’ll
be able to tweak this after the fact if we need to, but lets just start
with the following means:</p>
<p>No sugar, no caffeine: 55ft (SD = 3ft) No sugar, caffeine: 65ft (SD =
2.5ft) Sugar, no caffeine: 52 ft (SD = 3ft) Sugar, caffeine: 49 ft (SD =
2 ft)</p>
<p>We can start by creating the dataframe and the participant ID
variable:</p>
<pre class="r"><code>ID &lt;- c(1:120)
data &lt;- data.frame(ID)</code></pre>
<p>We can then assign the caffeine and sugar variables:</p>
<pre class="r"><code>data &lt;- data %&gt;%
        mutate(sugar = case_when(ID &lt;= 60 ~ 0,
                                 ID &gt; 60 ~ 1),
               caffeine = case_when(ID &lt;=30 ~ 0,
                                    ID &gt; 30 &amp; ID &lt;= 60 ~ 1,
                                    ID &gt; 60 &amp; ID &lt;=90 ~ 0,
                                    ID &gt; 90 ~ 1)
              )</code></pre>
<p>And finally we can add our random variables:</p>
<pre class="r"><code>random &lt;- c(rnorm(30, mean = 55, sd = 10),
            rnorm(30, mean = 65, sd = 12),
            rnorm(30, mean = 52, sd = 14),
            rnorm(30, mean = 49, sd = 9))

data &lt;- data %&gt;%
  mutate(distance_estimate = random)</code></pre>
<p>And just like that we have our data! I’ve saved the data manually so
that when you run the subsequent steps of this code, you’ll see what I’m
seeing and not whatever the randomization generates for you. Note that
this means the data frame you just generated won’t match with the data
we’ll be using from here on out.</p>
<p>Let’s check our data out to make sure we have what we were aiming
for. First lets run our ANOVA:</p>
<pre class="r"><code>#load data
data2 &lt;- read_sav(&quot;/Users/lawilson1999/Desktop/Data Science Spring 2023/Portfolio/p04/backpack_data_sectionB.sav&quot;)

#run ANOVA
anova &lt;- aov(distance_estimate ~ sugar*caffeine, data = data)
summary(anova)</code></pre>
<pre><code>##                 Df Sum Sq Mean Sq F value   Pr(&gt;F)    
## sugar            1   3796    3796  29.200 3.53e-07 ***
## caffeine         1    775     775   5.959 0.016151 *  
## sugar:caffeine   1   1945    1945  14.958 0.000182 ***
## Residuals      116  15080     130                     
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<p>This is what we wanted: a main effect of sugar and an interaction,
but no main effect of caffeine.</p>
<p>Let’s also make a visualization to check our data:</p>
<pre class="r"><code>#Make descriptives
descriptives &lt;- data2 %&gt;%
  group_by(sugar, caffeine) %&gt;%
  summarize(mean_est = mean(distance_estimate),
            sd_est = sd(distance_estimate))</code></pre>
<pre><code>## `summarise()` has grouped output by &#39;sugar&#39;. You can override using the
## `.groups` argument.</code></pre>
<pre class="r"><code>ggplot(data = descriptives,
       mapping = aes(x = factor(sugar),
                     y = mean_est,
                     fill = factor(caffeine))) + 
  geom_col(position = &quot;dodge&quot;) + 
  geom_errorbar(position = position_dodge(width = 0.9),
                alpha = 0.5,
                width = 0.5,
                mapping = aes(y = mean_est,
                              ymin = mean_est - sd_est,
                              ymax = mean_est + sd_est))+
  scale_fill_discrete(labels = c(&#39;Caffeine&#39;, &#39;No Caffeine&#39;))+
  scale_x_discrete(labels = c(&#39;No Sugar&#39;, &#39;Sugar&#39;)) + 
  labs(title = &quot;Effects of Sugar and Caffeine Consumption on Distance Perception&quot;,
       x = &quot;Sugar&quot;,
       y = &quot;Distance Estimate&quot;,
       fill = &quot;Caffeine&quot;)</code></pre>
<p><img src="p04_files/figure-html/bar-1.png" width="672" /></p>
<p>This looks good! Let’s throw out another visualization just for
fun:</p>
<pre class="r"><code>ggplot(data = data2,
       mapping = aes(x = factor(sugar),
                     y = distance_estimate,
                     fill = factor(caffeine))) + 
  geom_violin(draw_quantiles = c(0.25, 0.5, 0.75)) +
  scale_fill_discrete(labels = c(&#39;Caffeine&#39;, &#39;No Caffeine&#39;))+
  scale_x_discrete(labels = c(&#39;No Sugar&#39;, &#39;Sugar&#39;)) + 
  labs(title = &quot;Effects of Sugar and Caffeine Consumption on Distance Perception&quot;,
       x = &quot;Sugar&quot;,
       y = &quot;Distance Estimate&quot;,
       fill = &quot;Caffeine&quot;)</code></pre>
<p><img src="p04_files/figure-html/violin-1.png" width="672" /></p>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
